<html>
<head>
<script>
function test(contenttype) {
	const url = "http://localhost:3000/api/static";

	var xhr = new XMLHttpRequest();
	xhr.open("POST", url);

	xhr.setRequestHeader("Content-Type", contenttype);
	//xhr.setRequestHeader("Content-Type", "text/plain");

	xhr.onreadystatechange = function () {
	   if (xhr.readyState === 4) {
		  if (xhr.status == 200) {
			document.getElementById("qrcode").src = xhr.response;
			document.getElementById("response").innerHTML = "OK";
		  }
		  else {
			document.getElementById("qrcode").src = "";
			document.getElementById("response").innerHTML = xhr.response;
		  }
	   }};

	var data = document.getElementById('content').value;

	xhr.send(data);
}
</script>
</head>
<body>
	<input type="text" id="content" value='{"key":"fulano2019@example.com","merchant_name":"FULANO DE TAL","merchant_city":"BRASILIA","transaction_amount":1234.17}'><br><br>
	<button onclick='test("application/json")'>JSON</button>
	<button onclick='test("text/plain")'>Text</button>
	<p>
	<img src = "null" id = "qrcode"/> 
	</p>
	<p id = "response"></p>
</body>
</html>
